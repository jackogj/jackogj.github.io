<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link
        rel="stylesheet"
        href="style.css">
    <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
    <link
        rel="stylesheet"
        href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css"
        integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX"
        crossorigin="anonymous">
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/colorjoe@4.1.0/css/colorjoe.css"
        integrity="sha256-1mVRjhKP/uP1dPmXtl9jUAs99aV+74wfnsuUSy4/gfs="
        crossorigin="anonymous">
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.css"
        integrity="sha256-e47xOkXs1JXFbjjpoRr1/LhVcqSzRmGmPqsrUQeVs+g="
        crossorigin="anonymous" />
    <script
        src="https://cdn.jsdelivr.net/npm/colorjoe@4.1.0/dist/colorjoe.min.js"
        integrity="sha256-MyQCzHUiETxM3B0zUBfNoSguq4Nmf44M9aV5wozy5yg="
        crossorigin="anonymous"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.js"
        integrity="sha256-cs4thShDfjkqFGk5s2Lxj35sgSRr4MRcyccmi0WKqCM="
        crossorigin="anonymous"></script>
    <script type="text/javascript">

	Dropzone.options.uploadForm = {
		maxFilesize: 2, // MB
		maxFiles: 1,
    acceptedFiles: "image/*",
    //addRemoveLinks: true,
	};
    </script>
    <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.5/svg.min.js"
        integrity="sha256-QvaFssiJCr71CxCZfYVWAXXGlwAqXbXerSdoW2t/Few="
        crossorigin="anonymous"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/downloadjs/1.4.8/download.min.js"
        integrity="sha256-k77iqKeo6Og1Lf5mawux2rTxjaV9zUtyOWKVX3VttKE="
        crossorigin="anonymous"></script>
    <script
        src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js"
        integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U"
        crossorigin="anonymous"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/snackbarjs/1.1.0/snackbar.min.js"
        integrity="sha256-yIGfMkQAq4NiRvtt6ilwQljILYzKZtHxIvhjXvxdWXg="
        crossorigin="anonymous"></script>
    <script
        src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js"
        integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9"
        crossorigin="anonymous"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/downloadjs/1.4.8/download.min.js"
        integrity="sha256-k77iqKeo6Og1Lf5mawux2rTxjaV9zUtyOWKVX3VttKE="
        crossorigin="anonymous"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.slim.js"
        integrity="sha256-0YA7ixx4+I4GrLichcjWSQHIUSQiI8ojTDqsK7AZ5zU="
        crossorigin="anonymous"></script>
</head>
<body>
  <div class="progress">
    <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
  <div class="split">
    <div class="left">
      <span class="separator"></span>
      <form class="form-inline">
        <div class="form-group">
          <label for="int-height" class="bmd-label-static">
              Height
          </label>
          <input type="number" id="int-height" step="1" value="100" min="1">
        </div>
        <div class="form-group">
          <label for="int-width" class="bmd-label-static">
              Width
          </label>
          <input type="number" id="int-width" step="1" value="100" min="1">
        </div>
        <div class="form-group">
          <label for="int-columns" class="bmd-label-static">
              Columns
          </label>
          <input type="number" id="int-columns" step="1" value="10" min="1">
        </div>
        <div class="form-group">
          <label for="int-lines" class="bmd-label-static">
              Lines
          </label>
          <input type="number" id="int-lines" step="1" value="" min="1">
        </div>
        <div class="form-group">
          <label for="int-space" class="bmd-label-static">
              Space
          </label>
          <input type="range" id="int-space" step="1" value="10" min="0">
        </div>
        <div class="form-group">
          <input type="hidden" id="int-original-width">
          <input type="hidden" id="int-original-height">
          <label for="int-zoom" class="bmd-label-static">
              Zoom
          </label>
          <input type="range" id="int-zoom" step="10" value="50" min="10">
        </div>
        <div class="form-group choose-shapes">
          <label class="bmd-label-static">
              Shape
          </label>
          <label for="shape-rect">
            <input type="radio" name="shape" value="rect" id="shape-rect" checked>
            Rectangles
          </label>
          <label for="shape-circle">
            <input type="radio" name="shape" value="circle" id="shape-circle">
            Circles
          </label>
          <label for="shape-triangle">
            <input type="radio" name="shape" value="triangle" id="shape-triangle">
            Triangles
          </label>
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="chk-overlap"> Overlapping</label>
        </div>
      </form>
      <form class="form-block">
        <div class="form-group">
          <label for="txt-content" class="bmd-label-static">
              Text
          </label>
          <textarea id="txt-content" rows="5"></textarea>
        </div>
      </form>
      <form class="form-block">
        <div class="form-group">
          <label for="txt-colors" class="bmd-label-static">
              Colors
          </label>
          <p>
            <button type="button" id="btn-load" class="btn btn-raised btn-secondary" data-toggle="collapse" data-target="#block-colors" aria-expanded="false" aria-controls="block-colors">Edit colors</button>
            <button type="button" class="btn btn-raised btn-secondary" data-toggle="modal" data-target="#load-palette">
                Get palette from image
            </button>
          </p>
          <div class="collapse" id="block-colors">
            <textarea id="txt-colors" rows="5"></textarea>
          </div>
          <div id='list-colors'>
          </div>
          <div class="form-group">
            <button type="button" id="btn-pick" class="btn btn-secondary" data-toggle="snackbar" data-style="toast" data-content="Color added">Add color</button>
          </div>
          <div class="form-group" id="color-picker">
            <div id="pick"></div>
            <span id="hex">#305273</span>
          </div>
        </div>
      </form>
      <div class="btn-group" role="group">
        <div class="form-group" style="display:none;">
          <label for="txt-image" class="bmd-label-static">
              Image URL
          </label>
          <input type="text" id="txt-image">
        </div>
        <form style="display:none;" class="dropzone" action="/upload" id="uploadForm">
          <div class="fallback">
            <input type="file" name="file" id="mask" accept="image/*">
          </div>
        </form>
        <div class="form-group" style="display: none;">
          <button type="button" id="btn-mask" class="btn btn-raised btn-secondary">Add Mask</button>
        </div>
      </div>
    </div>

    <div class="svg right">
      <div class="form-group">
        <button type="button" id="btn-update" class="btn btn-raised btn-secondary">
          <i class="fa fa-spinner fa-spin" id="i-loading" style="display: none;"></i>
          Update
        </button>
        <button type="button" id="btn-save" class="btn btn-raised btn-primary">
          Export
          <i class="fa fa-spinner fa-spin" id="i-exporting" style="display: none;"></i>
        </button>
        <span id="export-finished" data-toggle="snackbar" data-style="toast" data-content="Export completed"></span>
        <span id="export-error" data-toggle="snackbar" data-style="toast" data-content="Export failed"></span>
        <div>
          <label><input type="checkbox" checked="checked" id="auto-refresh"> Auto-Update</label>
          <label><input type="checkbox" checked="checked" id="show-preview"> Show Preview</label>
        </div>
      </div>
      <div class="drawing-container">
        <div id="drawing"></div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="load-palette" tabindex="-1" role="dialog" aria-labelledby="load-palette-title" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="load-palette-title">Load palette from image</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="image-url" class="col-form-label">
                Image URL
            </label>
            <input class="form-control" type="text" id="image-url">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Dismiss</button>
          <button type="button" class="btn btn-primary" id="btn-load-palette">Update palette</button>
        </div>
      </div>
    </div>
  </div>
	<script type="text/javascript" src="code.js">
	</script>
</body>
</html>
